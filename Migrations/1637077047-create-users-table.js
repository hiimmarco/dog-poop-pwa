// This will create the users table
exports.up = async function up(sql) {
  await sql`
    CREATE TABLE users (
      id integer PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
      user_name varchar(40) UNIQUE NOT NULL,
			password_hash varchar(60) NOT NULL,
      email varchar(40) NOT NULL,
			role_id integer REFERENCES roles(id) ON UPDATE CASCADE NOT NULL,
      poop_id integer REFERENCES poops(id) ON DELETE CASCADE
    );
  `;
};

// This will remove the users table
exports.down = async function down(sql) {
  await sql`DROP TABLE users`;
};
